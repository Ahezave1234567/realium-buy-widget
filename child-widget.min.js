!function(){function e(e,t){const n=document.createElement("div");return n.className=e,t&&n.appendChild(t),n}function t(e){const t=document.getElementById("rlm-log");t&&(t.textContent="",t.className="rlm-log rlm--ok",t.textContent=e)}function n(e){const t=document.getElementById("rlm-log");t&&(t.textContent="",t.className="rlm-log rlm--err",t.textContent=e)}function o(){if(!window.parent)return n("parent window not found");const o=document.querySelector("#rlm-buy-widget");if(!o)return n("mount div not found");o.innerHTML="";const r=e("rlm-box"),c=e("rlm-row"),a=e("rlm-row"),s=e("rlm-row"),i=e("rlm-row"),u=e("rlm-row"),d=e("rlm-row");r.appendChild(c),r.appendChild(a),r.appendChild(s),r.appendChild(i),r.appendChild(u),r.appendChild(d),o.appendChild(r),r.style.cssText="max-width:560px;margin:24px auto;padding:24px;border:1px solid #333;border-radius:10px;background:#111;color:#eee;font:14px system-ui,-apple-system,Segoe UI,Roboto";c.innerHTML='<button id="rlm-connect" class="rlm-btn">Connect Wallet</button> <span id="rlm-status" style="opacity:.8"></span>';a.innerHTML='<div style="opacity:.8;margin-top:8px">Network: Sepolia • Min: 1 token • Price: 1000 USDT</div>';s.innerHTML='<label style="display:block;margin:12px 0 6px;opacity:.8">Amount (whole tokens)</label><input id="rlm-amt" type="number" min="1" step="1" value="1" style="width:100%;padding:10px;border-radius:8px;border:1px solid #444;background:#000;color:#eee">';i.innerHTML='<button id="rlm-approve" class="rlm-btn" style="margin-right:8px">1) Approve USDT</button><button id="rlm-buy" class="rlm-btn rlm-warn">2) Buy</button>';u.innerHTML='<div id="rlm-log" class="rlm-log" style="min-height:20px"></div>';d.innerHTML='<div style="opacity:.5;font-size:12px;margin-top:6px">If nothing happens, open this page outside of preview/iframe.</div>';const l=document.createElement("style");l.textContent=".rlm-btn{background:#f0b90b;color:#111;padding:10px 16px;border:0;border-radius:8px;cursor:pointer}.rlm-btn:hover{filter:brightness(1.05)}.rlm-warn{background:#ffd166}.rlm-log{margin-top:8px}.rlm--ok{color:#9fdf9f}.rlm--err{color:#ff7f7f}.rlm-row{display:flex;align-items:center;gap:12px;margin:8px 0}",document.head.appendChild(l);const m=document.getElementById("rlm-status"),p=(e,t)=>window.parent.postMessage({type:e,payload:t},"*");document.getElementById("rlm-connect").addEventListener("click",()=>{m.textContent=" Connecting...";p("rlm:connect",{})}),document.getElementById("rlm-approve").addEventListener("click",()=>{const e=parseInt(document.getElementById("rlm-amt").value||"1",10);m.textContent=" Approving...";p("rlm:approve",{tokens:e})}),document.getElementById("rlm-buy").addEventListener("click",()=>{const e=parseInt(document.getElementById("rlm-amt").value||"1",10);m.textContent=" Buying...";p("rlm:buy",{tokens:e})}),window.addEventListener("message",(e=>{const{type:o,payload:r}=e.data||{};if(!o)return;switch(o){case"rlm:status":m.textContent=" "+(r?.msg||"");break;case"rlm:connected":t("Connected: "+(r?.address||""));m.textContent="";break;case"rlm:approved":t("Approve tx: "+(r?.hash||""));m.textContent="";break;case"rlm:bought":t("Buy tx: "+(r?.hash||""));m.textContent="";break;case"rlm:error":n("Error: "+(r?.message||"Unknown"));m.textContent=""}})),t("Widget ready")}document.addEventListener("DOMContentLoaded",o);
